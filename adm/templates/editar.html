{% extends "base-adm.html" %}
{% block conteudo %}

<h2>Editar Colaborador</h2>

<form method="post" action="{{ url_for('adm.editar', matricula=colaborador.Matricula) }}">
    <input type="hidden" name="matricula" value="{{ colaborador.Matricula }}">

    <div class="form-group">
        <label>Nome Completo</label>
        <input type="text" name="nome" value="{{ colaborador.Nome }}" required>
    </div>

    <div class="form-group short">
        <label>Administrador?</label>
        <select name="administrador">
            <option value="1" {% if admin %}selected{% endif %}>Sim</option>
            <option value="0" {% if not admin %}selected{% endif %}>Não</option>
        </select>
    </div>

    <div class="form-group">
        <label>E-mail</label>
        <input type="email" name="email" value="{{ admin.Email if admin else '' }}" {% if admin %}readonly{% endif %}>
    </div>

    <div class="form-group">
        <label>Senha</label>
        <input type="password" name="senha" placeholder="Digite nova senha (opcional)">
    </div>

    <div class="form-group short">
        <label>Ativo?</label>
        <select name="ativo">
            <option value="1" {% if colaborador.Ativo %}selected{% endif %}>Sim</option>
            <option value="0" {% if not colaborador.Ativo %}selected{% endif %}>Não</option>
        </select>
    </div>

    <div class="form-actions">
        <button type="submit">Salvar Alterações</button>
        <a href="{{ url_for('adm.consultar') }}"><button type="button">Cancelar</button></a>
    </div>
</form>

<!-- Mensagens flash -->
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="alertas">
      {% for categoria, mensagem in messages %}
        <div class="alert alert-{{ categoria }}">{{ mensagem }}</div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

{% endblock %}