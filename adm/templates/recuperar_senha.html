{% extends "base-login.html" %}

{% block conteudo %}

<form class="login-form" method="post" action="/recuperar_senha">
    <h2>Recuperar Senha</h2>
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="alertas">
            {% for categoria, mensagem in messages %}
                <div class="alert alert-{{ categoria }}">{{ mensagem }}</div>
            {% endfor %}
            </div>
    {% endif %}
    {% endwith %}
    <input type="text" name="email" placeholder="Digite seu e-mail" required autofocus>
    <div class="button-container">
        <button type="submit">Confirmar</button>
    </div>
</form>

<script>
    document.querySelector('.login-form').addEventListener('submit', function(e) {
        const email = document.querySelector('input[name="email"]').value.trim();
        if (!email) {
            alert("Por favor, digite seu e-mail.");
            e.preventDefault();
        } else {
            // Mostra carregamento
            document.querySelector('button[type="submit"]').innerText = "Enviando...";
        }
    });
</script>

{% endblock %}